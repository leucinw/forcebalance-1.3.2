# ForceBalance input file generated by MakeInputFile.py
# The octothorpe '#' is a comment symbol
# Note: If the specified value is 'None' then the option will truly be set to None - not the string 'None'
# Note: 'Section' option types are more complicated and may require you to read the documentation
# Note: Boolean option types require no value, the key being present implies 'True'

$options
# (string) Directory containing force fields, relative to project directory
ffdir forcefield

# (string) Type of the penalty, L2 or L1 in the optimizer
penalty_type L2

# (allcap) The job type, defaults to a single-point evaluation of objective function
jobtype optimize

# (list) The names of force fields, corresponding to directory forcefields/file_name.(itp|gen)
forcefield ammonia.itp

# (int) Maximum number of steps in an optimization
maxstep 1000

# (float) Convergence criterion of step size (just needs to fall below this threshold)
convergence_step 0.02

# (float) Convergence criterion of objective function (in MainOptimizer this is the stdev of x2 over 10 steps)
convergence_objective 1.0

# (float) Convergence criterion of gradient norm
convergence_gradient 0.01

# (float) Minimum eigenvalue for applying steepest descent correction in the MainOptimizer
eig_lowerbound 0.0001

# (float) Step size for finite difference derivatives in many functions (get_(G/H) in fitsim, FDCheckG)
finite_difference_h 0.001

# (float) Factor for multiplicative penalty function in objective function
penalty_additive 1.0

trust0 0.25
mintrust 0.05
error_tolerance 1.0
adaptive_factor 0.2
adaptive_damping 1.0
normalize_weights no
print_hessian

constrain_charge true

backup False

priors
   VDWS                                 : 1.0e-01
   VDWT                                 : 1.0e-01
   COUL                                 : 1.0e-01
/priors
read_mvals
   0 [  0.00000000e+00 ] : VDWS:N
   1 [  0.00000000e+00 ] : VDWT:N
   2 [  0.00000000e+00 ] : COUL:AMM-1
   3 [  0.00000000e+00 ] : COUL:AMM-2
/read_mvals

wq_port 8241
$end

$target
# (string) The name of the target, which corresponds to the directory targets/dir_name
name Liquid

# (allcap) The type of target
type Liquid_GMX

# (float) Weight of the current target (with respect to other targets)
weight 1.0
w_rho 1.0
w_hvap 1.0
w_eps0 1.0


liquid_coords liquid.gro
liquid_eq_steps 100000
liquid_md_steps 1000000
liquid_timestep 1.0
liquid_interval 0.2
md_threads 8
gmx_eq_barostat parrinello-rahman

gas_coords gas.gro
gas_eq_steps 100000
gas_md_steps 1000000
gas_timestep 1.0
gas_interval 0.2

# Parameters for self-polarization correction
# 1) R. D. Nelson Jr., D. R. Lide, A. A. Maryott "Selected Values of electric dipole moments 
# for molecules in the gas phase" NSRDS-NBS10, 1967
# 2) TN Olney, NM Cann, G Cooper, CE Brion, Absolute scale determination for photoabsorption spectra 
# and the calculation of molecular properties using dipole sum-rules, Chem. Phys. 223 (1997) 59-98
self_pol_mu0 1.470
self_pol_alpha 2.103
$end
